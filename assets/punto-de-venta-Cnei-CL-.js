import{r as f,a as Me,R as V,j as a}from"./index-DRRpwTSH.js";import{u as Pe,L as ke,i as ze}from"./local-storage-BKCH4IBi.js";import{Q as $e}from"./Qr2-CUb-oT6R.js";import{c as ne}from"./class-names-Ci91NLh9.js";import{s as Se,l as L,o as g,O as xe,U as Y,u as J,y as Ae,p as de,a as Fe,d as ie,x as _e,C as H,I as G,b as W,n as De,c as Le,e as _,r as Ve,f as be,g as Be,h as qe}from"./keyboard-C1HsO_kv.js";import{T as Ke}from"./use-resolve-button-type-CnzAr53l.js";import{F as Ue,u as Qe,c as P,f as ve}from"./calculate-active-index-jbTbozbr.js";import{m as ge,t as ye}from"./active-element-history-ByhRHPcm.js";import{f as Je,s as Ye}from"./hidden-9PZBqRVJ.js";import"./isBrowser-BETwSqNb.js";function Q(t,s,e){let n=e.initialDeps??[],o;return()=>{var i,r,d,p;let c;e.key&&((i=e.debug)!=null&&i.call(e))&&(c=Date.now());const m=t();if(!(m.length!==n.length||m.some((l,h)=>n[h]!==l)))return o;n=m;let R;if(e.key&&((r=e.debug)!=null&&r.call(e))&&(R=Date.now()),o=s(...m),e.key&&((d=e.debug)!=null&&d.call(e))){const l=Math.round((Date.now()-c)*100)/100,h=Math.round((Date.now()-R)*100)/100,I=h/16,y=(b,N)=>{for(b=String(b);b.length<N;)b=" "+b;return b};console.info(`%c⏱ ${y(h,5)} /${y(l,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*I,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(p=e==null?void 0:e.onChange)==null||p.call(e,o),o}}function ce(t,s){if(t===void 0)throw new Error(`Unexpected undefined${s?`: ${s}`:""}`);return t}const He=(t,s)=>Math.abs(t-s)<1,Xe=t=>t,Ge=t=>{const s=Math.max(t.startIndex-t.overscan,0),e=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let o=s;o<=e;o++)n.push(o);return n},We=(t,s)=>{const e=t.scrollElement;if(!e)return;const n=i=>{const{width:r,height:d}=i;s({width:Math.round(r),height:Math.round(d)})};if(n(e.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const o=new ResizeObserver(i=>{const r=i[0];if(r!=null&&r.borderBoxSize){const d=r.borderBoxSize[0];if(d){n({width:d.inlineSize,height:d.blockSize});return}}n(e.getBoundingClientRect())});return o.observe(e,{box:"border-box"}),()=>{o.unobserve(e)}},Ze=(t,s)=>{const e=t.scrollElement;if(!e)return;const n=()=>{s(e[t.options.horizontal?"scrollLeft":"scrollTop"])};return n(),e.addEventListener("scroll",n,{passive:!0}),()=>{e.removeEventListener("scroll",n)}},et=(t,s,e)=>{if(s!=null&&s.borderBoxSize){const n=s.borderBoxSize[0];if(n)return Math.round(n[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(t.getBoundingClientRect()[e.options.horizontal?"width":"height"])},tt=(t,{adjustments:s=0,behavior:e},n)=>{var o,i;const r=t+s;(i=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[n.options.horizontal?"left":"top"]:r,behavior:e})};class nt{constructor(s){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let e=null;const n=()=>e||(typeof ResizeObserver<"u"?e=new ResizeObserver(o=>{o.forEach(i=>{this._measureElement(i.target,i)})}):null);return{disconnect:()=>{var o;return(o=n())==null?void 0:o.disconnect()},observe:o=>{var i;return(i=n())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=n())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([n,o])=>{typeof o>"u"&&delete e[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Xe,rangeExtractor:Ge,onChange:()=>{},measureElement:et,initialRect:{width:0,height:0},scrollMargin:0,gap:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,...e}},this.notify=e=>{var n,o;(o=(n=this.options).onChange)==null||o.call(n,this,e)},this.maybeNotify=Q(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const e=this.options.getScrollElement();this.scrollElement!==e&&(this.cleanup(),this.scrollElement=e,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,n=>{this.scrollAdjustments=0,this.scrollOffset!==n&&(this.isScrollingTimeoutId!==null&&(clearTimeout(this.isScrollingTimeoutId),this.isScrollingTimeoutId=null),this.isScrolling=!0,this.scrollDirection=this.scrollOffset<n?"forward":"backward",this.scrollOffset=n,this.maybeNotify(),this.isScrollingTimeoutId=setTimeout(()=>{this.isScrollingTimeoutId=null,this.isScrolling=!1,this.scrollDirection=null,this.maybeNotify()},this.options.scrollingDelay))})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.memoOptions=Q(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(e,n,o,i)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:n,scrollMargin:o,getItemKey:i}),{key:!1}),this.getFurthestMeasurement=(e,n)=>{const o=new Map,i=new Map;for(let r=n-1;r>=0;r--){const d=e[r];if(o.has(d.lane))continue;const p=i.get(d.lane);if(p==null||d.end>p.end?i.set(d.lane,d):d.end<p.end&&o.set(d.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((r,d)=>r.end===d.end?r.index-d.index:r.end-d.end)[0]:void 0},this.getMeasurements=Q(()=>[this.memoOptions(),this.itemSizeCache],({count:e,paddingStart:n,scrollMargin:o,getItemKey:i},r)=>{const d=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const p=this.measurementsCache.slice(0,d);for(let c=d;c<e;c++){const m=i(c),v=this.options.lanes===1?p[c-1]:this.getFurthestMeasurement(p,c),R=v?v.end+this.options.gap:n+o,l=r.get(m),h=typeof l=="number"?l:this.options.estimateSize(c),I=R+h,y=v?v.lane:c%this.options.lanes;p[c]={index:c,start:R,size:h,end:I,key:m,lane:y}}return this.measurementsCache=p,p},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Q(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(e,n,o)=>this.range=e.length>0&&n>0?ot({measurements:e,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Q(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(e,n,o,i)=>n===null?[]:e({...n,overscan:o,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const n=this.options.indexAttribute,o=e.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(e,n)=>{const o=this.measurementsCache[this.indexFromElement(e)];if(!o||!e.isConnected){this.measureElementCache.forEach((d,p)=>{d===e&&(this.observer.unobserve(e),this.measureElementCache.delete(p))});return}const i=this.measureElementCache.get(o.key);i!==e&&(i&&this.observer.unobserve(i),this.observer.observe(e),this.measureElementCache.set(o.key,e));const r=this.options.measureElement(e,n,this);this.resizeItem(o,r)},this.resizeItem=(e,n)=>{const o=this.itemSizeCache.get(e.key)??e.size,i=n-o;i!==0&&(e.start<this.scrollOffset+this.scrollAdjustments&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(e.index),this.itemSizeCache=new Map(this.itemSizeCache.set(e.key,n)),this.notify(!1))},this.measureElement=e=>{e&&this._measureElement(e,void 0)},this.getVirtualItems=Q(()=>[this.getIndexes(),this.getMeasurements()],(e,n)=>{const o=[];for(let i=0,r=e.length;i<r;i++){const d=e[i],p=n[d];o.push(p)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const n=this.getMeasurements();return ce(n[Oe(0,n.length-1,o=>ce(n[o]).start,e)])},this.getOffsetForAlignment=(e,n)=>{const o=this.getSize();n==="auto"&&(e<=this.scrollOffset?n="start":e>=this.scrollOffset+o?n="end":n="start"),n==="start"?e=e:n==="end"?e=e-o:n==="center"&&(e=e-o/2);const i=this.options.horizontal?"scrollWidth":"scrollHeight",d=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-this.getSize();return Math.max(Math.min(d,e),0)},this.getOffsetForIndex=(e,n="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const o=ce(this.getMeasurements()[e]);if(n==="auto")if(o.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)n="end";else if(o.start<=this.scrollOffset+this.options.scrollPaddingStart)n="start";else return[this.scrollOffset,n];const i=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,n),n]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(e,{align:n="auto",behavior:o}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[i,r]=this.getOffsetForIndex(e,n);this._scrollToOffset(i,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(e))){const[p]=this.getOffsetForIndex(e,r);He(p,this.scrollOffset)||this.scrollToIndex(e,{align:r,behavior:o})}else this.scrollToIndex(e,{align:r,behavior:o})}))},this.scrollBy=(e,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+e,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var e;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((e=n[n.length-1])==null?void 0:e.end)??0:Math.max(...n.slice(-this.options.lanes).map(i=>i.end)),o-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(e,{adjustments:n,behavior:o})=>{this.options.scrollToFn(e,{behavior:o,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}),this.maybeNotify()}}const Oe=(t,s,e,n)=>{for(;t<=s;){const o=(t+s)/2|0,i=e(o);if(i<n)t=o+1;else if(i>n)s=o-1;else return o}return t>0?t-1:0};function ot({measurements:t,outerSize:s,scrollOffset:e}){const n=t.length-1,i=Oe(0,n,d=>t[d].start,e);let r=i;for(;r<n&&t[r].end<e+s;)r++;return{startIndex:i,endIndex:r}}const it=typeof document<"u"?f.useLayoutEffect:f.useEffect;function st(t){const s=f.useReducer(()=>({}),{})[1],e={...t,onChange:(o,i)=>{var r;i?Me.flushSync(s):s(),(r=t.onChange)==null||r.call(t,o,i)}},[n]=f.useState(()=>new nt(e));return n.setOptions(e),f.useEffect(()=>n._didMount(),[]),it(()=>n._willUpdate()),n}function rt(t){return st({observeElementRect:We,observeElementOffset:Ze,scrollToFn:tt,...t})}function pe(t,s){let[e,n]=f.useState(t),o=Se(t);return L(()=>n(o.current),[o,n,...s]),e}function lt(t,s,e){let[n,o]=f.useState(e),i=t!==void 0,r=f.useRef(i),d=f.useRef(!1),p=f.useRef(!1);return i&&!r.current&&!d.current?(d.current=!0,r.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&r.current&&!p.current&&(p.current=!0,r.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?t:n,g(c=>(i||o(c),s==null?void 0:s(c)))]}function Ie(t={},s=null,e=[]){for(let[n,o]of Object.entries(t))Re(e,Ce(s,n),o);return e}function Ce(t,s){return t?t+"["+s+"]":s}function Re(t,s,e){if(Array.isArray(e))for(let[n,o]of e.entries())Re(t,Ce(s,n.toString()),o);else e instanceof Date?t.push([s,e.toISOString()]):typeof e=="boolean"?t.push([s,e?"1":"0"]):typeof e=="string"?t.push([s,e]):typeof e=="number"?t.push([s,`${e}`]):e==null?t.push([s,""]):Ie(e,s,t)}var at={},ct=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(ct||{}),ut=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(ut||{}),dt=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(dt||{}),pt=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(pt||{});function ue(t,s=e=>e){let e=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=s(t.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((r,d)=>r.dataRef.current.order-d.dataRef.current.order):qe(n,r=>r.dataRef.current.domRef.current),i=e?o.indexOf(e):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let ft={1(t){var s;return(s=t.dataRef.current)!=null&&s.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var s,e;if((s=t.dataRef.current)!=null&&s.disabled||t.comboboxState===0)return t;if((e=t.dataRef.current)!=null&&e.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,s){var e,n,o,i,r;if((e=t.dataRef.current)!=null&&e.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((o=t.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let m=s.focus===P.Specific?s.idx:ve(s,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var R,l;return(l=(R=t.activeOptionIndex)!=null?R:t.virtual.options.findIndex(h=>!t.virtual.disabled(h)))!=null?l:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),v=(i=s.trigger)!=null?i:2;return t.activeOptionIndex===m&&t.activationTrigger===v?t:{...t,activeOptionIndex:m,activationTrigger:v}}let d=ue(t);if(d.activeOptionIndex===null){let m=d.options.findIndex(v=>!v.dataRef.current.disabled);m!==-1&&(d.activeOptionIndex=m)}let p=s.focus===P.Specific?s.idx:ve(s,{resolveItems:()=>d.options,resolveActiveIndex:()=>d.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled}),c=(r=s.trigger)!=null?r:2;return t.activeOptionIndex===p&&t.activationTrigger===c?t:{...t,...d,activeOptionIndex:p,activationTrigger:c}},3:(t,s)=>{var e,n,o;if((e=t.dataRef.current)!=null&&e.virtual)return{...t,options:[...t.options,s.payload]};let i=s.payload,r=ue(t,p=>(p.push(i),p));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(s.payload.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(i));let d={...t,...r,activationTrigger:2};return(o=t.dataRef.current)!=null&&o.__demoMode&&t.dataRef.current.value===void 0&&(d.activeOptionIndex=0),d},4:(t,s)=>{var e;if((e=t.dataRef.current)!=null&&e.virtual)return{...t,options:t.options.filter(o=>o.id!==s.id)};let n=ue(t,o=>{let i=o.findIndex(r=>r.id===s.id);return i!==-1&&o.splice(i,1),o});return{...t,...n,activationTrigger:2}},5:(t,s)=>t.labelId===s.id?t:{...t,labelId:s.id},6:(t,s)=>t.activationTrigger===s.trigger?t:{...t,activationTrigger:s.trigger},7:(t,s)=>{var e;if(((e=t.virtual)==null?void 0:e.options)===s.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let o=s.options.indexOf(t.virtual.options[t.activeOptionIndex]);o!==-1?n=o:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:s.options})}}},fe=f.createContext(null);fe.displayName="ComboboxActionsContext";function Z(t){let s=f.useContext(fe);if(s===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Z),e}return s}let Te=f.createContext(null);function mt(t){var s;let e=q("VirtualProvider"),[n,o]=f.useMemo(()=>{let p=e.optionsRef.current;if(!p)return[0,0];let c=window.getComputedStyle(p);return[parseFloat(c.paddingBlockStart||c.paddingTop),parseFloat(c.paddingBlockEnd||c.paddingBottom)]},[e.optionsRef.current]),i=rt({scrollPaddingStart:n,scrollPaddingEnd:o,count:e.virtual.options.length,estimateSize(){return 40},getScrollElement(){var p;return(p=e.optionsRef.current)!=null?p:null},overscan:12}),[r,d]=f.useState(0);return L(()=>{d(p=>p+1)},[(s=e.virtual)==null?void 0:s.options]),V.createElement(Te.Provider,{value:i},V.createElement("div",{style:{position:"relative",width:"100%",height:`${i.getTotalSize()}px`},ref:p=>{if(p){if(typeof process<"u"&&at.JEST_WORKER_ID!==void 0||e.activationTrigger===0)return;e.activeOptionIndex!==null&&e.virtual.options.length>e.activeOptionIndex&&i.scrollToIndex(e.activeOptionIndex)}}},i.getVirtualItems().map(p=>{var c;return V.createElement(f.Fragment,{key:p.key},V.cloneElement((c=t.children)==null?void 0:c.call(t,{option:e.virtual.options[p.index],open:e.comboboxState===0}),{key:`${r}-${p.key}`,"data-index":p.index,"aria-setsize":e.virtual.options.length,"aria-posinset":p.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${p.start}px)`,overflowAnchor:"none"}}))})))}let me=f.createContext(null);me.displayName="ComboboxDataContext";function q(t){let s=f.useContext(me);if(s===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,q),e}return s}function ht(t,s){return J(s.type,ft,t,s)}let xt=f.Fragment;function bt(t,s){let{value:e,defaultValue:n,onChange:o,form:i,name:r,by:d=null,disabled:p=!1,__demoMode:c=!1,nullable:m=!1,multiple:v=!1,immediate:R=!1,virtual:l=null,...h}=t,I=!1,y=null,[b=v?[]:void 0,N]=lt(e,o,n),[M,S]=f.useReducer(ht,{dataRef:f.createRef(),comboboxState:c?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),C=f.useRef(!1),j=f.useRef({static:!1,hold:!1}),K=f.useRef(null),U=f.useRef(null),X=f.useRef(null),w=f.useRef(null),T=g(typeof d=="string"?(x,O)=>{let $=d;return(x==null?void 0:x[$])===(O==null?void 0:O[$])}:d??((x,O)=>x===O)),A=g(x=>M.options.findIndex(O=>T(O.dataRef.current.value,x))),se=f.useCallback(x=>J(u.mode,{1:()=>b.some(O=>T(O,x)),0:()=>T(b,x)}),[b]),re=g(x=>M.activeOptionIndex===A(x)),u=f.useMemo(()=>({...M,immediate:I,optionsPropsRef:j,labelRef:K,inputRef:U,buttonRef:X,optionsRef:w,value:b,defaultValue:n,disabled:p,mode:v?1:0,virtual:M.virtual,get activeOptionIndex(){if(C.current&&M.activeOptionIndex===null&&M.options.length>0){let x=M.options.findIndex(O=>!O.dataRef.current.disabled);if(x!==-1)return x}return M.activeOptionIndex},calculateIndex:A,compare:T,isSelected:se,isActive:re,nullable:m,__demoMode:c}),[b,n,p,v,m,c,M,y]);L(()=>{},[y,void 0]),L(()=>{M.dataRef.current=u},[u]),Ae([u.buttonRef,u.inputRef,u.optionsRef],()=>ae.closeCombobox(),u.comboboxState===0);let z=f.useMemo(()=>{var x,O,$;return{open:u.comboboxState===0,disabled:p,activeIndex:u.activeOptionIndex,activeOption:u.activeOptionIndex===null?null:u.virtual?u.virtual.options[(x=u.activeOptionIndex)!=null?x:0]:($=(O=u.options[u.activeOptionIndex])==null?void 0:O.dataRef.current.value)!=null?$:null,value:b}},[u,p,b]),k=g(()=>{if(u.activeOptionIndex!==null){if(u.virtual)le(u.virtual.options[u.activeOptionIndex]);else{let{dataRef:x}=u.options[u.activeOptionIndex];le(x.current.value)}ae.goToOption(P.Specific,u.activeOptionIndex)}}),D=g(()=>{S({type:0}),C.current=!0}),E=g(()=>{S({type:1}),C.current=!1}),F=g((x,O,$)=>(C.current=!1,x===P.Specific?S({type:2,focus:P.Specific,idx:O,trigger:$}):S({type:2,focus:x,trigger:$}))),B=g((x,O)=>(S({type:3,payload:{id:x,dataRef:O}}),()=>{u.isActive(O.current.value)&&(C.current=!0),S({type:4,id:x})})),we=g(x=>(S({type:5,id:x}),()=>S({type:5,id:null}))),le=g(x=>J(u.mode,{0(){return N==null?void 0:N(x)},1(){let O=u.value.slice(),$=O.findIndex(te=>T(te,x));return $===-1?O.push(x):O.splice($,1),N==null?void 0:N(O)}})),je=g(x=>{S({type:6,trigger:x})}),ae=f.useMemo(()=>({onChange:le,registerOption:B,registerLabel:we,goToOption:F,closeCombobox:E,openCombobox:D,setActivationTrigger:je,selectActiveOption:k}),[]),Ee=s===null?{}:{ref:s},ee=f.useRef(null),Ne=de();return f.useEffect(()=>{ee.current&&n!==void 0&&Ne.addEventListener(ee.current,"reset",()=>{N==null||N(n)})},[ee,N]),V.createElement(fe.Provider,{value:ae},V.createElement(me.Provider,{value:u},V.createElement(Fe,{value:J(u.comboboxState,{0:ie.Open,1:ie.Closed})},r!=null&&b!=null&&Ie({[r]:b}).map(([x,O],$)=>V.createElement(Je,{features:Ye.Hidden,ref:$===0?te=>{var he;ee.current=(he=te==null?void 0:te.closest("form"))!=null?he:null}:void 0,..._e({key:x,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,name:x,value:O})})),H({ourProps:Ee,theirProps:h,slot:z,defaultTag:xt,name:"Combobox"}))))}let vt="input";function gt(t,s){var e,n,o,i,r;let d=G(),{id:p=`headlessui-combobox-input-${d}`,onChange:c,displayValue:m,type:v="text",...R}=t,l=q("Combobox.Input"),h=Z("Combobox.Input"),I=W(l.inputRef,s),y=De(l.inputRef),b=f.useRef(!1),N=de(),M=g(()=>{h.onChange(null),l.optionsRef.current&&(l.optionsRef.current.scrollTop=0),h.goToOption(P.Nothing)}),S=function(){var u;return typeof m=="function"&&l.value!==void 0?(u=m(l.value))!=null?u:"":typeof l.value=="string"?l.value:""}();ge(([u,z],[k,D])=>{if(b.current)return;let E=l.inputRef.current;E&&((D===0&&z===1||u!==k)&&(E.value=u),requestAnimationFrame(()=>{if(b.current||!E||(y==null?void 0:y.activeElement)!==E)return;let{selectionStart:F,selectionEnd:B}=E;Math.abs((B??0)-(F??0))===0&&F===0&&E.setSelectionRange(E.value.length,E.value.length)}))},[S,l.comboboxState,y]),ge(([u],[z])=>{if(u===0&&z===1){if(b.current)return;let k=l.inputRef.current;if(!k)return;let D=k.value,{selectionStart:E,selectionEnd:F,selectionDirection:B}=k;k.value="",k.value=D,B!==null?k.setSelectionRange(E,F,B):k.setSelectionRange(E,F)}},[l.comboboxState]);let C=f.useRef(!1),j=g(()=>{C.current=!0}),K=g(()=>{N.nextFrame(()=>{C.current=!1})}),U=g(u=>{switch(b.current=!0,u.key){case _.Enter:if(b.current=!1,l.comboboxState!==0||C.current)return;if(u.preventDefault(),u.stopPropagation(),l.activeOptionIndex===null){h.closeCombobox();return}h.selectActiveOption(),l.mode===0&&h.closeCombobox();break;case _.ArrowDown:return b.current=!1,u.preventDefault(),u.stopPropagation(),J(l.comboboxState,{0:()=>h.goToOption(P.Next),1:()=>h.openCombobox()});case _.ArrowUp:return b.current=!1,u.preventDefault(),u.stopPropagation(),J(l.comboboxState,{0:()=>h.goToOption(P.Previous),1:()=>{h.openCombobox(),N.nextFrame(()=>{l.value||h.goToOption(P.Last)})}});case _.Home:if(u.shiftKey)break;return b.current=!1,u.preventDefault(),u.stopPropagation(),h.goToOption(P.First);case _.PageUp:return b.current=!1,u.preventDefault(),u.stopPropagation(),h.goToOption(P.First);case _.End:if(u.shiftKey)break;return b.current=!1,u.preventDefault(),u.stopPropagation(),h.goToOption(P.Last);case _.PageDown:return b.current=!1,u.preventDefault(),u.stopPropagation(),h.goToOption(P.Last);case _.Escape:return b.current=!1,l.comboboxState!==0?void 0:(u.preventDefault(),l.optionsRef.current&&!l.optionsPropsRef.current.static&&u.stopPropagation(),l.nullable&&l.mode===0&&l.value===null&&M(),h.closeCombobox());case _.Tab:if(b.current=!1,l.comboboxState!==0)return;l.mode===0&&l.activationTrigger!==1&&h.selectActiveOption(),h.closeCombobox();break}}),X=g(u=>{c==null||c(u),l.nullable&&l.mode===0&&u.target.value===""&&M(),h.openCombobox()}),w=g(u=>{var z,k,D;let E=(z=u.relatedTarget)!=null?z:ye.find(F=>F!==u.currentTarget);if(b.current=!1,!((k=l.optionsRef.current)!=null&&k.contains(E))&&!((D=l.buttonRef.current)!=null&&D.contains(E))&&l.comboboxState===0)return u.preventDefault(),l.mode===0&&(l.nullable&&l.value===null?M():l.activationTrigger!==1&&h.selectActiveOption()),h.closeCombobox()}),T=g(u=>{var z,k,D;let E=(z=u.relatedTarget)!=null?z:ye.find(F=>F!==u.currentTarget);(k=l.buttonRef.current)!=null&&k.contains(E)||(D=l.optionsRef.current)!=null&&D.contains(E)||l.disabled||l.immediate&&l.comboboxState!==0&&(h.openCombobox(),N.nextFrame(()=>{h.setActivationTrigger(1)}))}),A=pe(()=>{if(l.labelId)return[l.labelId].join(" ")},[l.labelId]),se=f.useMemo(()=>({open:l.comboboxState===0,disabled:l.disabled}),[l]),re={ref:I,id:p,role:"combobox",type:v,"aria-controls":(e=l.optionsRef.current)==null?void 0:e.id,"aria-expanded":l.comboboxState===0,"aria-activedescendant":l.activeOptionIndex===null?void 0:l.virtual?(n=l.options.find(u=>{var z;return!((z=l.virtual)!=null&&z.disabled(u.dataRef.current.value))&&l.compare(u.dataRef.current.value,l.virtual.options[l.activeOptionIndex])}))==null?void 0:n.id:(o=l.options[l.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":A,"aria-autocomplete":"list",defaultValue:(r=(i=t.defaultValue)!=null?i:l.defaultValue!==void 0?m==null?void 0:m(l.defaultValue):null)!=null?r:l.defaultValue,disabled:l.disabled,onCompositionStart:j,onCompositionEnd:K,onKeyDown:U,onChange:X,onFocus:T,onBlur:w};return H({ourProps:re,theirProps:R,slot:se,defaultTag:vt,name:"Combobox.Input"})}let yt="button";function St(t,s){var e;let n=q("Combobox.Button"),o=Z("Combobox.Button"),i=W(n.buttonRef,s),r=G(),{id:d=`headlessui-combobox-button-${r}`,...p}=t,c=de(),m=g(I=>{switch(I.key){case _.ArrowDown:return I.preventDefault(),I.stopPropagation(),n.comboboxState===1&&o.openCombobox(),c.nextFrame(()=>{var y;return(y=n.inputRef.current)==null?void 0:y.focus({preventScroll:!0})});case _.ArrowUp:return I.preventDefault(),I.stopPropagation(),n.comboboxState===1&&(o.openCombobox(),c.nextFrame(()=>{n.value||o.goToOption(P.Last)})),c.nextFrame(()=>{var y;return(y=n.inputRef.current)==null?void 0:y.focus({preventScroll:!0})});case _.Escape:return n.comboboxState!==0?void 0:(I.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&I.stopPropagation(),o.closeCombobox(),c.nextFrame(()=>{var y;return(y=n.inputRef.current)==null?void 0:y.focus({preventScroll:!0})}));default:return}}),v=g(I=>{if(Ve(I.currentTarget))return I.preventDefault();n.comboboxState===0?o.closeCombobox():(I.preventDefault(),o.openCombobox()),c.nextFrame(()=>{var y;return(y=n.inputRef.current)==null?void 0:y.focus({preventScroll:!0})})}),R=pe(()=>{if(n.labelId)return[n.labelId,d].join(" ")},[n.labelId,d]),l=f.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),h={ref:i,id:d,type:Ke(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(e=n.optionsRef.current)==null?void 0:e.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":R,disabled:n.disabled,onClick:v,onKeyDown:m};return H({ourProps:h,theirProps:p,slot:l,defaultTag:yt,name:"Combobox.Button"})}let Ot="label";function It(t,s){let e=G(),{id:n=`headlessui-combobox-label-${e}`,...o}=t,i=q("Combobox.Label"),r=Z("Combobox.Label"),d=W(i.labelRef,s);L(()=>r.registerLabel(n),[n]);let p=g(()=>{var m;return(m=i.inputRef.current)==null?void 0:m.focus({preventScroll:!0})}),c=f.useMemo(()=>({open:i.comboboxState===0,disabled:i.disabled}),[i]);return H({ourProps:{ref:d,id:n,onClick:p},theirProps:o,slot:c,defaultTag:Ot,name:"Combobox.Label"})}let Ct="ul",Rt=xe.RenderStrategy|xe.Static;function Tt(t,s){let e=G(),{id:n=`headlessui-combobox-options-${e}`,hold:o=!1,...i}=t,r=q("Combobox.Options"),d=W(r.optionsRef,s),p=Le(),c=p!==null?(p&ie.Open)===ie.Open:r.comboboxState===0;L(()=>{var l;r.optionsPropsRef.current.static=(l=t.static)!=null?l:!1},[r.optionsPropsRef,t.static]),L(()=>{r.optionsPropsRef.current.hold=o},[r.optionsPropsRef,o]),Ue({container:r.optionsRef.current,enabled:r.comboboxState===0,accept(l){return l.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:l.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(l){l.setAttribute("role","none")}});let m=pe(()=>{var l,h;return(h=r.labelId)!=null?h:(l=r.buttonRef.current)==null?void 0:l.id},[r.labelId,r.buttonRef.current]),v=f.useMemo(()=>({open:r.comboboxState===0,option:void 0}),[r]),R={"aria-labelledby":m,role:"listbox","aria-multiselectable":r.mode===1?!0:void 0,id:n,ref:d};return r.virtual&&r.comboboxState===0&&Object.assign(i,{children:V.createElement(mt,null,i.children)}),H({ourProps:R,theirProps:i,slot:v,defaultTag:Ct,features:Rt,visible:c,name:"Combobox.Options"})}let wt="li";function jt(t,s){var e;let n=G(),{id:o=`headlessui-combobox-option-${n}`,disabled:i=!1,value:r,order:d=null,...p}=t,c=q("Combobox.Option"),m=Z("Combobox.Option"),v=c.virtual?c.activeOptionIndex===c.calculateIndex(r):c.activeOptionIndex===null?!1:((e=c.options[c.activeOptionIndex])==null?void 0:e.id)===o,R=c.isSelected(r),l=f.useRef(null),h=Se({disabled:i,value:r,domRef:l,order:d}),I=f.useContext(Te),y=W(s,l,I?I.measureElement:null),b=g(()=>m.onChange(r));L(()=>m.registerOption(o,h),[h,o]);let N=f.useRef(!(c.virtual||c.__demoMode));L(()=>{if(!c.virtual||!c.__demoMode)return;let w=be();return w.requestAnimationFrame(()=>{N.current=!0}),w.dispose},[c.virtual,c.__demoMode]),L(()=>{if(!N.current||c.comboboxState!==0||!v||c.activationTrigger===0)return;let w=be();return w.requestAnimationFrame(()=>{var T,A;(A=(T=l.current)==null?void 0:T.scrollIntoView)==null||A.call(T,{block:"nearest"})}),w.dispose},[l,v,c.comboboxState,c.activationTrigger,c.activeOptionIndex]);let M=g(w=>{var T;if(i||(T=c.virtual)!=null&&T.disabled(r))return w.preventDefault();b(),Be()||requestAnimationFrame(()=>{var A;return(A=c.inputRef.current)==null?void 0:A.focus({preventScroll:!0})}),c.mode===0&&requestAnimationFrame(()=>m.closeCombobox())}),S=g(()=>{var w;if(i||(w=c.virtual)!=null&&w.disabled(r))return m.goToOption(P.Nothing);let T=c.calculateIndex(r);m.goToOption(P.Specific,T)}),C=Qe(),j=g(w=>C.update(w)),K=g(w=>{var T;if(!C.wasMoved(w)||i||(T=c.virtual)!=null&&T.disabled(r)||v)return;let A=c.calculateIndex(r);m.goToOption(P.Specific,A,0)}),U=g(w=>{var T;C.wasMoved(w)&&(i||(T=c.virtual)!=null&&T.disabled(r)||v&&(c.optionsPropsRef.current.hold||m.goToOption(P.Nothing)))}),X=f.useMemo(()=>({active:v,selected:R,disabled:i}),[v,R,i]);return H({ourProps:{id:o,ref:y,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":R,disabled:void 0,onClick:M,onFocus:S,onPointerEnter:j,onMouseEnter:j,onPointerMove:K,onMouseMove:K,onPointerLeave:U,onMouseLeave:U},theirProps:p,slot:X,defaultTag:wt,name:"Combobox.Option"})}let Et=Y(bt),Nt=Y(St),Mt=Y(gt),Pt=Y(It),kt=Y(Tt),zt=Y(jt),oe=Object.assign(Et,{Input:Mt,Button:Nt,Label:Pt,Options:kt,Option:zt});function $t({item:t,active:s}){return a.jsxs("div",{className:"grid grid-cols-2 p-3 w-full gap-y-3",sm:"px-6 py-4",children:[a.jsxs("div",{className:"flex flex-col justify-between gap-y-1 grid-col-span-2",sm:"grid-col-span-1",children:[a.jsx("p",{className:"text-4 font-medium text-primary truncate",children:t.name}),a.jsx("p",{className:"text-sm text-gray-500",children:t.description})]}),a.jsxs("div",{className:"grid-col-span-2 flex flex-row-reverse justify-around items-end",sm:"grid-col-span-1 flex-col justify-between gap-y-4",children:[a.jsx("div",{children:t.stock>0?a.jsxs("p",{className:"px-3 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full bg-info-300/65 text-info-700",children:[t.stock," en existencia"]}):a.jsx("p",{className:"px-3 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Agotado"})}),a.jsxs("p",{className:"flex items-center text-sm gap-x-1",children:[a.jsx("span",{className:"text-gray-500 hidden",sm:"inline",children:"Precio:"}),a.jsxs("span",{className:"px-2.5 py-0.5 inline-flex leading-5 font-semibold rounded-full bg-success-200/65 text-success-700",children:["$",t.price]})]})]})]})}function At({products:t,onAddProduct:s}){const[e,n]=f.useState(""),o=e===""?[]:t.filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.description.toLowerCase().includes(e.toLowerCase()));return a.jsxs(oe,{as:"div",className:ne("relative w-full transform divide-y divide-gray-100 overflow-visible rounded-xl bg-white shadow-2xl transition-all","ring-2 ring-black ring-opacity-25"),onChange:i=>s(i),children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"i-heroicons:magnifying-glass-20-solid pointer-events-none absolute top-3.5 left-4 h-5 w-5 text-gray-400","aria-hidden":"true"}),a.jsx(oe.Input,{className:ne("h-12 w-full border-0 bg-transparent pl-11 pr-4 text-gray-800 placeholder-gray-400","focus:ring-0","sm:text-sm"),placeholder:"Buscar productos",onChange:i=>n(i.target.value)})]}),o.length>0&&a.jsx(oe.Options,{static:"",className:ne("absolute top-15 max-h-96 w-full scroll-py-3 overflow-y-auto p-3 bg-white shadow-2xl rounded-xl","ring-2 ring-black ring-opacity-50"),children:o.map(i=>a.jsx(oe.Option,{value:i,className:({active:r})=>ne("flex cursor-default select-none rounded-xl p-3",r&&"bg-gray-100 ring-2 ring-gray-900"),children:({active:r})=>a.jsx($t,{item:i,active:r})},i.id))}),e!==""&&o.length===0&&a.jsxs("div",{className:"absolute top-15 max-h-96 w-full py-14 px-6 text-center text-sm bg-white shadow-2xl rounded-xl",ring:"2 black opacity-50",sm:"px-14",children:[a.jsx("div",{className:"i-heroicons:exclamation-circle mx-auto h-6 w-6 text-gray-400"}),a.jsx("p",{className:"mt-4 font-semibold text-gray-900",children:"No se encontró ningún producto"}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Prueba con otro término de búsqueda"})]})]})}function Ft({products:t,onRemoveProduct:s,increaseProductQuantity:e,decreaseProductQuantity:n}){return a.jsx("div",{className:"mt-8 flex flex-col",children:a.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:a.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:a.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Nombre"}),a.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Código"}),a.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Precio"}),a.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Cantidad"}),a.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Total"}),a.jsx("th",{scope:"col",className:"relative text-sm py-3.5 pl-1 pr-2 sm:pr-4",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 min-w-full",children:t.map(o=>a.jsxs("tr",{children:[a.jsxs("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:[a.jsx("p",{className:"text-4 text-black font-semibold",children:o.name}),a.jsx("p",{className:"text-sm text-gray-700",children:o.description})]}),a.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700",children:o.barcode}),a.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 font-bold",children:["$",o.price]}),a.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 flex items-center gap-x-2",children:[a.jsx("button",{className:"text-black",onClick:()=>n(o),children:a.jsx("div",{className:"i-heroicons:minus-circle-solid hw-6"})}),a.jsx("span",{children:o.quantity}),a.jsx("button",{className:"text-black",onClick:()=>e(o),children:a.jsx("div",{className:"i-heroicons:plus-circle-solid hw-6"})})]}),a.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-700 font-bold",children:["$",o.price*(o.quantity||1)]}),a.jsx("td",{className:"flex justify-center space-x-4 py-6 items-center h-full",children:a.jsx("button",{type:"button",className:"text-danger-300/50 hover:text-danger",onClick:()=>s(o),children:a.jsx("div",{className:"i-heroicons:trash-20-solid hw-5"})})})]},o.id))})]})})})})})}function Yt(){const[t]=Pe(ke.PRODUCTS,{defaultValue:ze}),[s,e]=f.useState(!1),n=()=>{d(),o()},o=()=>{e(!s)},[i,r]=f.useState("initial"),d=()=>{r(S=>S==="initial"?"new":"initial")},p=()=>{if(i==="initial")return a.jsxs("div",{className:" m-t-10 text-lg md:text-2xl font-bold",children:[a.jsx("p",{className:"m-b-10 flex justify-center",children:"Bienvenido a tu punto de venta"}),a.jsx("div",{className:"w-70 h-70 flex justify-center",md:"w-xs h-xs",children:a.jsx("img",{src:"/assets/gestor-recursos/POS.png",alt:"nada"})})]});if(i==="new")return a.jsxs("div",{className:"card w-full min-h-3xl z-1",children:[v&&a.jsx("div",{className:"absolute h-1/3 w-1/3 justify-center items-center z-2 top-0 left-0 right-0 bottom-0 m-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{className:"bg-black  rounded-lg text-white px-4 py-2 font-semibold absolute top-0 right-0 mt-4 mr-4 z-2",onClick:h,children:"Cerrar"}),a.jsx($e,{})]})}),a.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"Nueva venta"}),a.jsx("div",{className:"w-full",lg:"w-1/2",children:a.jsx(At,{products:t,onAddProduct:y})}),a.jsx("div",{className:"flex"}),a.jsxs("div",{className:"my-6 flex flex-col gap-y-4",lg:"flex-row gap-x-10",children:[a.jsxs("p",{className:"text-2xl font-bold text-center w-full",md:"text-left text-3xl w-max",children:["Total a pagar: $",I]}),a.jsxs("div",{className:"flex text-sm justify-around",lg:"ml-auto gap-x-20 text-4",children:[a.jsxs("button",{className:"bg-black  rounded-lg text-white px-2 py-1 sm:px-4 sm:py-2 font-semibold flex items-center gap-x-2",onClick:l,children:[a.jsx("div",{className:"i-heroicons-qr-code sm:hw-6 hw-4"}),"Escanear"]}),a.jsxs("button",{className:"bg-success rounded-lg text-white  px-2 py-1  sm:px-4 sm:py-2 font-semibold flex items-center gap-x-2",disabled:c.length===0,children:[a.jsx("div",{className:"i-heroicons:check-20-solid sm:hw-6 hw-4"}),"Finalizar"]}),a.jsxs("button",{className:"bg-danger rounded-lg text-white px-2 py-1  sm:px-4 sm:py-2 font-semibold flex items-center sm:gap-x-2",children:[a.jsx("div",{className:"i-heroicons:x-mark-20-solid sm:hw-6 hw-4"}),"Cancelar"]})]})]}),a.jsx("div",{className:"px-4",md:"px-0",children:a.jsx(Ft,{products:c,onRemoveProduct:b,increaseProductQuantity:N,decreaseProductQuantity:M})})]})},[c,m]=f.useState([]),[v,R]=f.useState(!1),l=()=>{R(!0)},h=()=>{R(!1)},I=f.useMemo(()=>c.reduce((S,C)=>S+C.price*(C.quantity||1),0),[c]),y=S=>{m(C=>[...C,{...S,quantity:1}])},b=S=>{m(C=>C.filter(j=>j.id!==S.id))},N=S=>{m(C=>C.map(j=>j.id===S.id?{...j,quantity:j.quantity+1}:j))},M=S=>{m(C=>C.map(j=>j.id===S.id?{...j,quantity:j.quantity>1?j.quantity-1:1}:j))};return a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-center",children:p()}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{className:"mt-5 uppercase text-sm font-semibold inline-flex items-center rounded-lg text-white  bg-azulCoopel dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700 px-3 py-2",onClick:n,children:s?"Terminar jornada":"Iniciar Jornada"})})]})}export{Yt as default};
